---
title: "List Positions"
api: "GET /api/v1/positions"
description: "Retrieve current positions for your account"
---

## List Positions

Retrieve all current positions in your account.

### Endpoint
```http
GET /api/v1/positions
```

### Parameters

<ParamField header="X-API-Key" type="string" required>
  API key for authentication
</ParamField>

<ParamField query="instType" type="string" required>
  Instrument type (e.g., "perpetual")
</ParamField>

<ParamField query="symbol" type="string" required>
  Trading symbol symbol (e.g., "SP500-BTC", "GLD-BTC", "OIL-BTC")
</ParamField>

<ParamField query="units" type="string" default="sats">
  Unit format for values: "sats" or "btc"
</ParamField>

### Example Request

<RequestExample>
```bash cURL
curl -X GET "https://api.roxom.com/api/v1/positions?instType=perpetual&symbol=SP500-BTC&units=sats" \
  -H "X-API-Key: your_api_key_here" \
  -H "Content-Type: application/json"
```

```python Python
import requests

headers = {
    'X-API-Key': 'your_api_key_here',
    'Content-Type': 'application/json'
}

response = requests.get(
    'https://api.roxom.com/api/v1/positions',
    headers=headers,
    params={
        'instType': 'perpetual',
        'symbol': 'SP500',
        'units': 'sats'
    }
)

positions = response.json()
for position in positions['data']:
    print(f"{position['symbol']}: {position['size']} @ {position['avg_entry']}")
    print(f"  Unrealized P&L: {position['unrealized_pnl']}")
```

```javascript JavaScript
const response = await fetch('https://api.roxom.com/api/v1/positions?instType=perpetual&symbol=SP500-BTC&units=sats', {
  headers: {
    'X-API-Key': 'your_api_key_here',
    'Content-Type': 'application/json'
  }
});

const positions = await response.json();
positions.data.forEach(position => {
  console.log(`${position.symbol}: ${position.size} @ ${position.avg_entry}`);
  console.log(`  Unrealized P&L: ${position.unrealized_pnl}`);
});
```
</RequestExample>

### Response

<ResponseExample>
```json Success
{
  "data": [
    {
      "position_id": "01234567-89ab-7def-8123-456789abcdef",
      "instrument": "01234567-89ab-7def-8123-456789abcdea",
      "symbol": "OIL-BTC", 
      "is_buy": true,
      "entry_amount": 500000000000,
      "exit_amount": 0,
      "size": 100000,
      "avg_entry": 50000000,
      "avg_exit": null,
      "open_date": 1685432112000,
      "close_date": null,
      "unrealized_pnl": 12500000,
      "mark_price": 50125000,
      "liquidation_price": 42500000,
      "created_at": 1685432112000,
      "updated_at": 1685432512000
    }
  ]
}
```
</ResponseExample>

<ResponseField name="data" type="array">
  Array of current position objects

  <Expandable title="Position properties">
    <ResponseField name="position_id" type="string">
      Unique position identifier (UUID)
    </ResponseField>
    
    <ResponseField name="instrument" type="string">
      Instrument identifier (UUID)
    </ResponseField>
    
    <ResponseField name="symbol" type="string">
      Trading symbol (e.g., "OIL-BTC", "BTC")
    </ResponseField>
    
    <ResponseField name="is_buy" type="boolean">
      Whether this is a long (true) or short (false) position
    </ResponseField>
    
    <ResponseField name="entry_amount" type="integer">
      Total entry amount in satoshis
    </ResponseField>
    
    <ResponseField name="exit_amount" type="integer">
      Total exit amount in satoshis (0 for open positions)
    </ResponseField>
    
    <ResponseField name="size" type="integer">
      Position size in contract units
    </ResponseField>
    
    <ResponseField name="avg_entry" type="integer">
      Average entry price in satoshis
    </ResponseField>
    
    <ResponseField name="avg_exit" type="integer">
      Average exit price in satoshis (null for open positions)
    </ResponseField>
    
    <ResponseField name="open_date" type="integer">
      Unix timestamp when position was opened
    </ResponseField>
    
    <ResponseField name="close_date" type="integer">
      Unix timestamp when position was closed (null for open positions)
    </ResponseField>
    
    <ResponseField name="unrealized_pnl" type="integer">
      Unrealized profit/loss in satoshis
    </ResponseField>
    
    <ResponseField name="mark_price" type="integer">
      Current mark price in satoshis
    </ResponseField>
    
    <ResponseField name="liquidation_price" type="integer">
      Liquidation price in satoshis
    </ResponseField>
    
    <ResponseField name="created_at" type="integer">
      Unix timestamp when position record was created
    </ResponseField>
    
    <ResponseField name="updated_at" type="integer">
      Unix timestamp when position was last updated
    </ResponseField>
  </Expandable>
</ResponseField>

## Position Types

<AccordionGroup>
  <Accordion title="Long Positions (is_buy: true)">
    **Long positions** profit when price increases:
    
    - **Entry**: Buy at lower price
    - **Profit**: Current price > Entry price
    - **Loss**: Current price < Entry price
    - **Liquidation**: Price falls to liquidation level
  </Accordion>

  <Accordion title="Short Positions (is_buy: false)">
    **Short positions** profit when price decreases:
    
    - **Entry**: Sell at higher price
    - **Profit**: Current price < Entry price  
    - **Loss**: Current price > Entry price
    - **Liquidation**: Price rises to liquidation level
  </Accordion>
</AccordionGroup>

## Understanding Values

<AccordionGroup>
  <Accordion title="Price Format">
    All prices are in **satoshis** (0.00000001 BTC):
    
    - `avg_entry: 50000000` = 0.5 BTC
    - `mark_price: 50125000` = 0.50125 BTC
    - `liquidation_price: 42500000` = 0.425 BTC
  </Accordion>

  <Accordion title="P&L Calculation">
    **Unrealized P&L** = (Mark Price - Entry Price) × Size × Direction
    
    - **Long**: Positive when mark > entry
    - **Short**: Positive when mark < entry
    - **Values in satoshis**: `12500000` = 0.125 BTC profit
  </Accordion>

  <Accordion title="Position Lifecycle">
    **Open Position**: `close_date` is null, `avg_exit` is null
    
    **Closed Position**: Both `close_date` and `avg_exit` have values
    
    **Partially Closed**: `exit_amount` > 0 but position still has size
  </Accordion>
</AccordionGroup>

## Risk Management

Monitor your positions for:

- **Unrealized P&L**: Track profit/loss changes
- **Liquidation Distance**: How close current price is to liquidation
- **Position Size**: Ensure appropriate risk per position
- **Mark Price Movement**: Real-time position valuation

## Real-time Updates

For real-time position updates, use the WebSocket API:

```javascript
// Subscribe to position updates
ws.send(JSON.stringify({
  method: 'subscribe',
  params: {
    channel: 'positions'
  },
  id: 1
}));

// Handle position updates
ws.onmessage = function(event) {
  const data = JSON.parse(event.data);
  if (data.type === 'position') {
    console.log('Position update:', data.data);
  }
};
```

## Error Handling

### No Positions

<ResponseExample>
```json Empty Response
{
  "data": []
}
```
</ResponseExample>

### Authentication Error

<ResponseExample>
```json Error
{
  "code": "VALIDATION_ERROR",
  "message": "Invalid API key",
  "details": "API key not found or invalid"
}
```
</ResponseExample>

<CardGroup cols="2">
  <Card
    title="Account Balance"
    icon="wallet"
    href="/api-reference/account/balances"
  >
    Check account balance
  </Card>
  <Card
    title="List Orders"
    icon="list"
    href="/api-reference/orders/list"
  >
    View current orders
  </Card>
</CardGroup>